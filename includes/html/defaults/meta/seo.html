<? if(attr.url[attr.url.length - 1] === "/") attr.url = attr.url.substring(0, attr.url.length - 1); ?>
<? if(attr.url[0] === "/") attr.url = attr.url.substring(1); ?>
<? if(attr.url === "index") attr.url = "" ?>

<title>{{page.title}}</title>
<meta name="description" content="{{page.description}}">

<!-- Open Graph meta tags (for social media sharing) -->
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="website" />
<meta property="og:title" content="{{page.title}}" />
<meta property="og:description" content="{{page.description}}" />
<meta property="og:image" content="{{page.image}}&width=128">
<meta property="og:url" content="{{project.info.url.full}}/{{attr.url}}" />
<meta property="og:site_name" content="{{project.info.name}}" />
<meta property="article:published_time" content="{{project.info.published_time}}" />
<meta property="article:modified_time" content="{{attr.date}}" />

<? if(0 < project.info.social.twitter_handle.length){ ?>
<!-- Twitter Card meta tags -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{{page.title}}">
<meta name="twitter:description" content="{{page.description}}">
<meta name="twitter:image" content="{{page.image}}&width=128">
<meta name="twitter:site" content="@{{project.info.social.twitter_handle}}">
<? } ?>

<!-- Canonical URL (specify the preferred version of a web page) -->
<link rel="canonical" href="{{project.info.url.full}}/{{attr.url}}">

<include src="defaults/meta/schema/global.html" title="{{page.title}}" description="{{page.description}}"/>